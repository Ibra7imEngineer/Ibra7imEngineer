from cs50 import get_string  # يجب استخدام get_string للحصول على المدخلات في سياق CS50

# لضمان عدم ظهور أخطاء NameError إذا كنت تعمل في بيئة CS50


def main():

    # الحصول على النص (استبدال input بـ get_string كما هو موصى به)
    text = get_string("Text: ")

    l = 0
    s = 0
    w = 1  # نبدأ بكلمة واحدة لتبسيط العد

    for char in text:
        # حساب الكلمات (باستخدام المسافات)
        if (char == ' '):
            w += 1

        # حساب الجمل
        elif (char == '.' or char == '?' or char == '!'):
            s += 1

        # حساب الأحرف
        elif (char.isalpha()):
            l += 1

    # التحقق من الكلمات لتجنب القسمة على صفر
    if w == 0:
        w = 1  # تعيين 1 لتجنب القسمة على صفر في حالة النص الفارغ

    # ----------------------------------------------------
    # 1. تصحيح الخطأ الرياضي: حساب L و S لكل 100 كلمة
    # ----------------------------------------------------

    # L = متوسط عدد الأحرف لكل 100 كلمة
    L = (l / w) * 100

    # S = متوسط عدد الجمل لكل 100 كلمة
    S = (s / w) * 100

    # تطبيق صيغة Coleman-Liau
    # index = 0.0588 * L - 0.296 * S - 15.8
    index = round(0.0588 * L - 0.296 * S - 15.8)

    # ----------------------------------------------------

    if (index < 1):
        print("Before Grade 1")

    elif (index >= 16):
        print("Grade 16+")

    else:
        print(f"Grade {index}")  # استخدام f-string للطباعة النظيفة


if __name__ == "__main__":
    main()
